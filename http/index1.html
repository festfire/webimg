<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Загрузка изображений</title>
  <meta name="description" content="Загрузка изображений">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="styles.css?v=1.0">

  <script src="complex_tags.js"></script>
	<script src="translate_tags.js"></script>
	<script src="jquery.js"></script>
	<script src="tags_transmutation.js"></script>
	<script src="yolo_api.js"></script>

  <!--[if lt IE 9]>
 <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
	<script type="text/javascript">
		//alert(processTags(["oven", "toaster", "person", "person", "person", "person"]));
		//alert(processTags(parseJSON()));

		var label;
		var input;

		window.onload = function() {
			var img = document.getElementById('image');

			/*img.onload = function() {
				var canvas = document.createElement('canvas');
				canvas.width = img.width;
				canvas.height = img.height;
				canvas.getContext('2d').drawImage(img, 0, 0, img.width, img.height);

				var pixelData = canvas.getContext('2d').getImageData(1, 1, 1, 1).data;

				alert(pixelData);
			};*/

			label = document.getElementById("filename");
			input = document.getElementById("exampleInputFile");

			input.addEventListener("change", modifyLabel, false);
			//document.getElementById("sendButton").addEventListener("click", sendImage, false);
			document.getElementById("sendURL").addEventListener("click", sendURL, false);

		}

		function modifyLabel() {
			var arr = input.value.split("\\");
			//label.value = arr[arr.length-1];
			label.value = input.files.length > 1 ? "Несколько файлов (" + input.files.length + ")" : arr[arr.length-1];
			sendImage();
		}
	</script>

	<div class="container-fluid">
		<div class="row short">
			<div class="col" id='short-left'>
				<form>
					<div class="form-group">
						<input type="text" id="filename" value="Имя файла" disabled class="form-control">
						<input type="file" class="form-control-file" id="exampleInputFile" aria-describedby="fileHelp" >
    					<label for="exampleInputFile" class="btn btn-outline-success">
						    Выбрать файл
						</label>
    					<!--<small id="fileHelp" class="form-text text-muted">или перетащите его сюда</small>-->
  					</div>
				</form>
			
			</div>
			<div class="col" id='short-right'>
				<div id='srl'>
					<div id='myinput'>
						<form>
							<div class="form-group">
    							<input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Введите адрес картинки">    					
  							</div>
  					
						</form>
					</div>
					<div id='mybutton'>
						<input class="btn btn-outline-success" type="button" value="Искать" id="sendURL">
					</div>
				</div>
				<div id='api'>
					<a class="btn btn-primary" id='api-btn' href="#" role="button">
						API
					</a>
				</div>





			</div>
		</div>
	</div>
	<div class="container-fluid">
		<div class="row tall">
			<div class="col" id='tall-left'>
				<div id="img-container">
					<img src="test.jpeg" id="image" />
				</div>
			</div>
			<div class="col" id='tall-right'>
				
			</div>
		</div>
	</div>
</body>
</html